generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                 Int       @id @default(autoincrement())
  password           String
  lastLogin          DateTime?
  isSuperuser        Boolean   @default(false)
  seller             String    @default("private")
  username           String?   @unique
  number             String?   @unique
  countryCode        String    @default("+373")
  comunicationMethod String    @default("phone")
  firstName          String    @default("")
  lastName           String    @default("")
  email              String    @unique
  userPhoto          String    @default("")
  userProfilePhoto   String?   @default("")
  isStaff            Boolean?  @default(false)
  isActive           Boolean?
  dateJoined         DateTime
  activationLink     String
  isActivated        Boolean   @default(false)
  accessToken        String?
  refreshToken       String?
  resetPasswordLink  String?
  Token              Token[]
  Message            Message[]
  Chat               Chat[]
}

model Token {
  id           Int    @id @default(autoincrement())
  refreshToken String @unique
  user         User   @relation(fields: [userId], references: [id])
  userId       Int
}

model Message {
  id        Int       @id @default(autoincrement())
  message   String
  users     Int[]     @default([1, 1])
  user      User?     @relation(fields: [userId], references: [id])
  userId    Int?
  createdAt DateTime? @default(now())
  read      Boolean   @default(false)
}

model Chat {
  id              Int     @id @default(autoincrement())
  myId            Int
  oponentId       Int
  usersId         Int[]
  user            User?   @relation(fields: [userId], references: [id])
  userId          Int?
  oponentReadChat Boolean @default(false)
}

model Car {
  id           Int      @id @default(autoincrement())
  brand        String
  model        String
  registration String
  condition    String
  description  String?
  region       String
  price        String
  currency     String
  author       String
  year         String
  seats        String
  steering     String
  bodyType     String
  doors        String?
  mileage      String
  mileageType  String
  engineVolume String
  enginePower  String?
  fuelType     String
  transmission String
  drive        String
  photo        String[]
  contacts     String
}

model BusMicrobus {
  id           Int      @id @default(autoincrement())
  brand        String
  model        String
  registration String
  condition    String
  description  String?
  region       String
  price        String
  currency     String
  steering     String
  fuelType     String
  transmission String
  bodyType     String
  category     String
  year         String
  engineVolume String
  seats        String
  mileage      String
  mileageType  String
  drive        String?
  photo        String[]
  contacts     String
}

model Truck {
  id               Int      @id @default(autoincrement())
  brand            String
  model            String
  registration     String
  condition        String
  description      String?
  region           String
  price            String
  currency         String
  steering         String
  fuelType         String
  bodyType         String
  cabinType        String?
  drive            String
  year             String
  engineVolume     String
  enginePower      String
  transmission     String
  mileage          String
  mileageType      String
  loadCapacity     String
  loadCapacityType String
  totalWeight      String
  photo            String[]
  contacts         String
}

model Moto {
  id             Int      @id @default(autoincrement())
  brand          String
  model          String
  registration   String
  condition      String
  description    String?
  region         String
  price          String
  currency       String
  motorcycleType String
  year           String
  engineVolume   String
  mileage        String
  mileageType    String
  enginePower    String
  transmission   String
  photo          String[]
  contacts       String
}

model Agriculture {
  id           Int      @id @default(autoincrement())
  title        String
  description  String?
  region       String
  price        String
  currency     String
  manufacturer String?
  type         String
  photo        String[]
  contacts     String
}

model Trailer {
  id          Int      @id @default(autoincrement())
  title       String
  description String?
  region      String
  price       String
  currency    String
  type        String
  year        String?
  condition   String?
  photo       String[]
  contacts    String
}

model Construction {
  id          Int      @id @default(autoincrement())
  title       String
  description String?
  region      String
  price       String
  currency    String
  type        String
  condition   String?
  photo       String[]
  contacts    String
}

model WheelsTire {
  id          Int      @id @default(autoincrement())
  type        String
  purpose     String
  title       String
  description String?
  region      String
  price       String
  currency    String
  disc        Disc?    @relation(fields: [DiscId], references: [id])
  tire        Tire?    @relation(fields: [tireId], references: [id])
  photo       String[]
  contacts    String
  DiscId      Int?
  tireId      Int?
}

model Disc {
  id          Int          @id @default(autoincrement())
  type        String
  diameter    String
  holeCount   String
  brand       String
  boltPattern String
  diameterDIA String
  rimWidth    String
  material    String
  WheelsTire  WheelsTire[]
}

model Tire {
  id            Int          @id @default(autoincrement())
  diameter      String
  profileWidth  String
  profileHeight String
  season        String
  condition     String
  brand         String
  WheelsTire    WheelsTire[]
}

model CarParts {
  id          Int      @id @default(autoincrement())
  title       String
  description String?
  region      String
  price       String
  currency    String
  category    String
  type        String
  brand       String
  model       String
  condition   String
  year        String?
  photo       String[]
  contacts    String
}

model TruckParts {
  id          Int      @id @default(autoincrement())
  title       String
  description String?
  region      String
  price       String
  currency    String
  type        String
  brand       String
  condition   String
  photo       String[]
  contacts    String
}

model CarMirrorsGlassOptics {
  id          Int      @id @default(autoincrement())
  title       String
  description String?
  region      String
  price       String
  currency    String
  type        String
  photo       String[]
  contacts    String
}

model Batteries {
  id               Int      @id @default(autoincrement())
  title            String
  description      String?
  region           String
  price            String
  currency         String
  manufacturer     String
  carBrand         String
  carSeries        String
  applicability    String
  positiveTerminal String
  housingType      String
  electrolyteType  String
  terminals        String
  maintenanceLevel String
  mountingType     String
  capacity         String
  photo            String[]
  contacts         String
}

model AutoService {
  id                       Int      @id @default(autoincrement())
  title                    String
  description              String?
  region                   String
  price                    Int
  currency                 String
  photo                    String[]
  contacts                 String
  serviceForCars           Boolean  @default(false)
  serviceForTrucks         Boolean  @default(false)
  serviceForAgricultural   Boolean  @default(false)
  serviceForMinibuses      Boolean  @default(false)
  serviceForGardenTractors Boolean  @default(false)
  serviceForBuses          Boolean  @default(false)
  serviceForSpecial        Boolean  @default(false)
  repairEngine             Boolean  @default(false)
  repairChassis            Boolean  @default(false)
  repairSafetySystems      Boolean  @default(false)
  repairBodyAlignment      Boolean  @default(false)
  repairGlassOptics        Boolean  @default(false)
  repairElectrical         Boolean  @default(false)
  repairTransmission       Boolean  @default(false)
  repairAlarmSystems       Boolean  @default(false)
  repairAirConditioning    Boolean  @default(false)
  repairBodyFrames         Boolean  @default(false)
  repairManagementSystems  Boolean  @default(false)
  repairPainting           Boolean  @default(false)
  repairDetailing          Boolean  @default(false)
}
